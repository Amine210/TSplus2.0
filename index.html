<!-- ##TEMPLATEVALUES## -->
<!DOCTYPE html>
<!--[if lt IE 7]> <html class="lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]> <html class="lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]> <html class="lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="X-XSS-Protection" content="1; mode=block" />
  <meta http-equiv="cache-control" content="max-age=0" />
  <meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="cache-control" content="no-store" />
  <meta http-equiv="expires" content="0" />
  <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
  <meta http-equiv="pragma" content="no-cache" />
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>##PAGETITLE##</title>
  
<script type="text/javascript" src="software/java/third/jws.js"></script>
<script type="text/javascript" src="software/remoteapp2.js"></script>
<script type="text/javascript">
  // --------------- Page Configuration ---------------
  var page_configuration = new Array();
  page_configuration["access_type"] = "##ACCESSTYPE##";     // Client Type (specify the client to use with "java", "remoteapp" or "html5" ; or let the user choose between several clients with "java+remoteapp+html5", "java+remoteapp", "java+html5" or "remoteapp+html5")
  page_configuration["is_standard"] = ##ISSTANDARD##;   // Standard Logon Web Page (do not edit this parameter - support only)
  page_configuration["show_domain"] = ##SHOWDOMAIN##;   // Show a Domain field (true if it must be displayed, false otherwise)
  page_configuration["is_webcredentials"] = ##ISWEBCREDENTIALS##;   // Logon using WebCredentials (true if it is, false otherwise)
  page_configuration["allow_empty_password"] = ##ALLOWEMPTYPASSWORD##;   // Allow empty Password field - only intended for WebCredentials (true if it allowed, false otherwise)
  page_configuration["show_password"] = ##SHOWPASSWORD##;   // Show a Password field (true if it must be displayed, false otherwise)
  page_configuration["remember_credentials"] = ##REMEMBERCREDENTIALS##;	// Remember login and domain in a cookie (true if must be remembered, false otherwise)
  page_configuration["hide_server_list"] = ##HIDESERVERLIST##;	// Hide the server list if load-balancing is enabled
  page_configuration["applications_portal"] = "##APPSPORTALPAGE##";	  // Display Application Portal after logon ("your_page_applications.html" to display the application portal, "" to start remote connection directly after logon)
  page_configuration["show_windows_password_reset_button"] = ##SHOWWINDOWSPASSWORDRESETBUTTON##;	  // Display the windows password reset button
  page_configuration["show_windows_password_expiration_alert"] = ##SHOWWINDOWSPASSWORDEXPIRATIONALERT##;	  // Show a windows password expiration alert popin when password expires soon
  page_configuration["show_eye"] = ##SHOWEYE##;      // Display password visibility eye icon 
  // --------------- End of Page Configuration ---------------

  // --------------- Access Configuration ---------------
  var user = "##LOGIN##";                              // Login to use when connecting to the remote server (leave "" to use the login typed in this page)
  var pass = "##PASSWORD##";                              // Password to use when connecting to the remote server (leave "" to use the password typed in this page)
  var domain = "##DOMAIN##";                            // Domain to use when connecting to the remote server (leave "" to use the domain typed in this page)
  var server = "##SERVER##";                            // Server to connect to (leave "" to use localhost and/or the server chosen in this page)
  var port = "";                              // Port to connect to (leave "" to use localhost and/or the port of the server chosen in this page)
  var lang = "##LANG##";                    // Language to use
  var serverhtml5 = "##SERVER##";              // Server to connect to, when using HTML5 client
  var porthtml5 = "##PORT##";                     // Port to connect to, when using HTML5 client
  var cmdline = "";                           // Optional text that will be put in the server's clipboard once connected
  // --------------- End of Access Configuration ---------------

  // --------------- Seamless Access Configuration ---------------
  var alloutside = "dummyvaro=false; ";
  alloutside += "switcher=##SEAMLESSSWITCHER##; ";               // Resolution to use (if your server supports RemoteApp, leave 7. Otherwise, use one of the following values: 0 = full window, 1 = full screen, 2 = 640x480, 3 = 800x600, 4 = 1024x768, 5 = 1280x1024, 6 = 1600x1200)
  alloutside += "bpp_all=##SEAMLESSPIXELDEPTHWIN##; ";               // Pixel Depth to use for Windows clients (use one of the following values: 15 for 15 bits display, 16 for 16 bits, 24 for 24 bits, 32 for 32 bits)
  alloutside += "bpp_all_mac='##SEAMLESSPIXELDEPTHMAC##'; ";          // Pixel Depth to use for MAC clients (use one of the following values: 1 for 15 bits display, 2 for 16 bits, 3 for 24 bits, 4 for 32 bits)
  alloutside += "cmdline='"+cmdline+"'; ";
  //alloutside += "server=''; ";                  // Server (leave empty '' for auto recognition)
  //alloutside += "username=''; ";                // Autologon User Login (leave empty '' if you don't want to use Autologon)
  //alloutside += "rdppass=''; ";                 // Autologon User Password (leave empty '' if you don't want to use Autologon)
  //alloutside += "mydomain=''; "                 // Domain (leave empty '' if you don't have an Active Directory domain)
  alloutside += "interval_print_option='##SEAMLESSPRINTING##'; ";	// Web Printing Options
  // --------------- End of Seamless Access Configuration ---------------

  // --------------- Java Access Configuration ---------------
  var allinside = "dummyvari=false; ";
  allinside += "switcher=##JAVASWITCHER##; ";                // Resolution to use (use one of the following values: 0 = full window, 1 = full screen, 2 = 640x480, 3 = 800x600, 4 = 1024x768, 5 = 1280x1024, 6 = 1600x1200)
  allinside += "bpp_all=##JAVAPIXELDEPTH##; ";                // Pixel Depth to use (use one of the following values: 15 for 15 bits display, 16 for 16 bits, 24 for 24 bits)
  allinside += "cmdline='"+cmdline+"'; ";
  //allinside += "server=''; ";                   // Server (leave empty '' for auto recognition)
  //allinside += "username=''; ";                 // Autologon User Login (leave empty '' if you don't want to use Autologon)
  //allinside += "rdppass=''; ";                  // Autologon User Password (leave empty '' if you don't want to use Autologon)
  //allinside += "mydomain=''; "                  // Domain (leave empty '' if you don't have an Active Directory domain)
  allinside += "sameasweb = '##JAVASAMEASWEB##'; ";         // Port to use for the RDP connection ('yes' if you want to use the same port as this page's web server address, 'no' otherwise
  allinside += "insidecheck = ##JAVAINSIDECHECK##; ";        // Start the Java Client inside the browser (true to start it inside the browser, false to start it externally)
  allinside += "soundsup = ##JAVASOUNDSUP##; ";           // Sound Support (true to activate it, false otherwise)
  allinside += "mapsup = ##JAVAMAPSUP##; ";             // Local Disk Mapping (true to activate it, false otherwise)
  allinside += "activex = ##JAVAACTIVEX##; ";           // ActiveX instead of Java in Internet Explorer browsers (true if you want to use ActiveX client instead of the Java client, false otherwise)
  allinside += "interval_print_option='##JAVAPRINTING##'; ";		// Web Printing Options
  // --------------- End of Java Access Configuration ---------------
  // --------------- PWA Configuration ---------------
  var isPWAEnabled = "##PWAENABLED##";
  var edgeVersion = navigator.userAgent.match(/(Edge|Edg)\/(\d+)/i);
  var isOldEdge = edgeVersion !== null && edgeVersion[2] < 80;
  var isIE = typeof window.document.documentMode !== "undefined";
  var isFirefox = navigator.userAgent.indexOf("Firefox") > -1;
  var isPWASupported = !(isOldEdge || isIE || isFirefox);
  
  // Delete previous service worker cache
  if (caches !== undefined) {
    caches.delete('site-dynamic-v1');
  }
  
  if(isPWAEnabled != "no" && isPWASupported && 'serviceWorker' in navigator){
    var link = document.createElement('link');
    link.rel = 'manifest';
    link.href = 'manifest.json';
    document.head.append(link);
    navigator.serviceWorker.register('./sw.js')
      .then(function(reg) {console.log('Service Worker registered')})
      .catch(function(err) {console.log('Service Worker not registered', err)});
  }
  else {
	if('serviceWorker' in navigator) {
		navigator.serviceWorker.getRegistration('./sw.js').then(function(reg) {
			if(reg !== undefined) {
				console.log('Unregistering Service Worker');
				reg.unregister();
			}
		}).catch(function(err) {
			console.log('Service Worker unregistration failed: ', err);
		});
	}
  }
  // --------------- End of PWA Configuration ---------------


</script>
<!--[if IE]><script type="text/javascript">window.iecondition = true;</script><![endif]-->
<script type="text/javascript" src="software/lang.js"></script>
<script type="text/javascript" src="software/common.js"></script>
<script src="software/js/jquery.min.js"></script>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="popup.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">


  <link rel="stylesheet" type="text/css" href="custom.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"/>
  <script type="text/javascript" src="custom.js"></script>
</head>
<body onkeypress="CheckKey(event);" onload="setAll()">
  <!-- ##PANELPOSITION## -->
  <!--id="left-blur" / "right-blur" / "center-blur" -->
  <div class="panel-blur" id="##PANELPOSITION##">
    <div class="header--left-blur">
      <div class="header--left-blur__logo">
        <!-- ##LOGO## -->
        <img src="/img/logo.svg" width="60" height="">
        <h1 class="header--left-blur__t1 primary-text">Welcome To TSplus</h1>
      </div>
      <form>
        <div class="input-container">
          <input class="secondary-text email" type="text" type="##INPUTTYPEUSERNAME##" name="username" id="Editbox1" onblur="onLoginTyped();" value="##LOGIN##" placeholder="##LABELUSERNAME##"  maxlength="35" required="required" >
          <div id="underline"></div>
        </div>
        <div class="input-container">
          
          <input  class="password secondary-text" type="password" placeholder="Enter your password"  maxlength="28" required="required" type="password" name="Password" id="Editbox2" onfocus="onPasswordFocused();" value="##PASSWORD##" placeholder="##LABELPASSWORD##" >
          <svg id="togglePassword" width="15" height="11" viewBox="0 0 15 11" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1.03192 5.81734C0.989442 5.68968 0.989442 5.5517 1.03192 5.42404C1.88561 2.85557 4.30882 1.00293 7.16472 1.00293C10.0194 1.00293 12.4414 2.85373 13.2969 5.42096C13.34 5.54837 13.34 5.68624 13.2969 5.81426C12.4438 8.38273 10.0206 10.2354 7.16472 10.2354C4.31005 10.2354 1.88746 8.38458 1.03192 5.81734Z" stroke="#888888" stroke-opacity="0.6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M9.01115 5.61919C9.01115 6.10891 8.81661 6.57858 8.47033 6.92486C8.12405 7.27114 7.65438 7.46568 7.16467 7.46568C6.67495 7.46568 6.20528 7.27114 5.859 6.92486C5.51272 6.57858 5.31818 6.10891 5.31818 5.61919C5.31818 5.12947 5.51272 4.65981 5.859 4.31353C6.20528 3.96725 6.67495 3.77271 7.16467 3.77271C7.65438 3.77271 8.12405 3.96725 8.47033 4.31353C8.81661 4.65981 9.01115 5.12947 9.01115 5.61919Z" stroke="#888888" stroke-opacity="0.6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            
         
          <div id="underline"></div>
        </div>
        <!-- variable -->
        <!-- id='hidden-domain'-> MAKE THE ENTER YOUR DOMAIN INPUT  INVISIBLE-->
        <div id="##HIDDENDOMAIN##" class="input-container  secondary-text">
          <input class="password  secondary-text" type="text" placeholder="Enter your domain" maxlength="28" >
          <div id="underline"></div>
        </div>
        <div class="btn-container">
          <button class="submiBtn primary-button"  id="buttonLogOn" type="button" value="##LABELLOGON##">Log in</button>
          <!-- variable -->
          <!-- id='hidden-html5'-> MAKE THE HTML5 BUTTON INVISIBLE-->
          <div id="##HIDDENHTML5##" class="select-wrapper"><select class="input-select secondary-button">
            <option type="radio" value="html5" name="accesstypeuserchoice" id="accesstypeuserchoice_html5" onchange="remoteAppPluginPopinHide();" checked="checked">
              HTML5
            </option>
            <option value="remoteapp2" name="accesstypeuserchoice" id="accesstypeuserchoice_remoteapp2" onchange="remoteAppPluginPopinShow();">
              Remote App
            </option>
          </select> <svg id="arrow"  width="9" height="7" viewBox="0 0 9 7" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path id="path" d="M1 1.5L4.5 5.5L8 1.5" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg></div>

            <!-- variable -->
            <!-- id='hidden-reset'-> MAKE THE Reset Windows password BUTTON INVISIBLE-->
            <h2 id="##HIDDENRESET##" class="htm5lBtn secondary-text" >Reset Windows password</h2>
         
        </div>
      </form>
    </div>
    <div class="blank"></div>
    <!-- variable -->
    <!-- id='hidden-footer'-> MAKE THE footer--left-blur__before INVISIBLE-->
    <div id="##HIDDENFOOTER##" class="footer--left-blur__before">
      <div class="footer--left-blur">
        <h2  class="primary-color-80tr">For help, please visit <a id="bold-a" href="#">this page.</a></h2>
      </div>
    </div>
  </div>
  <div class="cd-popup" id="cd-popup1" role="alert">
    <div class="cd-popup-container">
      <p style="color: #4a4a4a;">Your Windows password expires in 2 days ?</p>
      <h2>Would you like to change it now?</h2>
      <ul class="cd-buttons">
      
        <li class="popup-primary-button" id="password-expiration-choice-change-password" value="Yes" onclick="showResetWindowsPasswordPopin()";>Yes</li>
        <li class="popup-secondary-button"  id="password-expiration-choice-connect" value="No" onclick="closePasswordExpirationReminderPopin();refreshDisplayAndOpenSession()";>No</li>
      </ul><a href="#0" class="cd-popup-close img-replace"></a>
    </div>
  </div>
  <div class="cd-popup" id="cd-popup-form" role="alert">
    <div class="cd-popup-container" id="cd-popup-container__form">
      <p class="popUp-primary-text">Reset your Windows password</p>
      <form action="">
        <div class="input-container">
          <input class="popup-input-text"type="text" id="sp-full-username" value="" placeholder="Your Windows username - Ex: CORP\johndoe">
          <div id="underline"></div>
        </div>
        <div class="input-container">
          <input  class="popup-input-text" type="password" id="sp-old-password" value="" placeholder="Your old password" >
          <div id="underline"></div>
        </div>
        <div class="input-container">
          <input  class="popup-input-text" type="password" id="sp-new-password" value="" placeholder="Your new password" >
          <div id="underline"></div>
        </div>
        <div class="input-container">
          <input   type="password" id="sp-confirm-new-password" value="" placeholder="Confirm your new password" >
          <div id="underline"></div>
        </div>
      </form>
      <button class="submiBtn popup-primary-button" type="submit"  id="reset-windows-password-choice-validate" value="Validate" onclick="changeWindowsPassword();">Validate</button> 
      <a href="#0" class="cd-popup-close img-replace"></a>
    </div>
  </div>


  <div class="popup-f2a "  >
    <div class="popup-f2a__container">
      <div class="popup-f2a__container--100">
        <div class="popup-f2a__container__header popUp-primary-text">
          Protégez votre compte avec l'authentification double facteur
        </div>
        <div class="popup-f2a__container__content">
          <button id="button1" class="popup-primary-button">Configurez votre application d'authentification 2FA</button>
          <div style="height: 0px;" class="extand-div" id="extand-div1">
            <ul>
              <li>1. Ouvrez votre application d'authentification sur votre téléphone portable.</li>
              <li>2. Scannez le QR code affiché ci-dessous:</li>
              <img widt="50" height="130" src="./img/TSplus.png" class="qrCodeImg">
            </ul>
          </div><button id="button2"  class="popup-secondary-button">Ou recevez votre de vérification par e-mail</button>
    
          <div style="height: 0px;" class="extand-div" id="extand-div2">
            <form>
              <div class="input-container po">
                <!-- Adress email validation -->
                <input  type="text" id="sp-phonenumber" value="" oninput="onChangeTrim(this);" required pattern="^\+?[1-9]\d{1,14}$" minlength="1" maxlength="15" class="popup-input-text"  placeholder="Entrez votre adresse mail ">
                <img class="info-icon" height="15" src="img/information.png">
                <div id="underline"></div>
               
              </div>
              <div class="button-container">
                <button class="popup-primary-button" type="button" id="sp-register" onclick="requestVerificationCode();" >Envoyer un e-mail</button>
                <img class="info-icon" height="15" src="img/information.png">
                    

              </div>
             
              
             
            </form>
            <div class="tooltip-float" id="tf1">

              <div> Renseignez votre adresse e-mail : </div>
            </div>
            <div class="tooltip-float" id="tf2">
              Cliquez sur le bouton "Envoyer un e-mail" pour enregistrer  votre e-mail et recevoir votre code de vérification
            </div>
          </div>
          <div class="popup-2f2a__footer">
              
              <form class="footer-form">
                  <div class="input-container">
                    <input  class="popup-input-text" type="text" type="text" id="twofacode" value="" placeholder="##LABELTWOFACTOR##" onkeyup="validate2faKeyUpHandler(event);" oninput="onChangeTrim(this);" required pattern="[0-9]{4,12}" minlength="4" maxlength="12"  >
                    <img class="info-icon" height="15" src="img/information.png">
                    <div id="underline"></div>
                  </div>
                 
                  <button id="sp-verify" style="cursor: pointer;" value="Validate" onclick="verifyCode();" class="popup-primary-button">Valider</button>
                </form>
                <div class="tooltip-float" id="tf3">
                  Validez votre code de vérification reçu par SMS, e-mail ou via votre application de double-authentification
                </div>
          </div>
         
      </div>
      <a href="#0" class="cd-popup-close img-replace " id="cd-popup-close--2fa"></a>
    </div>
    
    </div>
  </div>
  
  <script src="./index.js" defer></script>
  <script>
    (function ($) {
        $.support.placeholder = ('placeholder' in document.createElement('input'));
    })(jQuery);
    //fix for IE7 and IE8
    $(function () {
        if (!$.support.placeholder) {
            $("[placeholder]").focus(function () {
                if ($(this).val() == $(this).attr("placeholder")) $(this).val("");
            }).blur(function () {
                if ($(this).val() == "") $(this).val($(this).attr("placeholder"));
            }).blur();

            $("[placeholder]").parents("form").submit(function () {
                $(this).find('[placeholder]').each(function() {
                    if ($(this).val() == $(this).attr("placeholder")) {
                        $(this).val("");
                    }
                });
            });
        }
    });
       $(function (){
           $(".toggle-password").click(function() {
               $(this).toggleClass("fa-eye fa-eye-slash");
               var eyeIcon = document.getElementById("Editbox2");
               if (eyeIcon.type === "password") {
                   eyeIcon.type = "text";
               } else {
                   eyeIcon.type = "password";
               }
           })
       });
</script>
</body>
</html>